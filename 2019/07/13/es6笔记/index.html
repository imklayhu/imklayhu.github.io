<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Klay-Clam"><title>ES6ç¬”è®°ğŸ“’ Â· æ‹–æ³¥è„‘æ¹¿çš„åšå®¢</title><meta name="description" content="å¯¹è±¡çš„åŸå‹prototype
12345678910111213141516171819var A = &amp;#123;  n: 4399&amp;#125;;var B = function()&amp;#123;  this.n = 9999;&amp;#125;var C = function() &amp;#123;  var"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">Tony's Notebook</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">æ‹–æ³¥è„‘æ¹¿çš„æ‰‹è´¦</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://github.com/Klay-Clam" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="http://yoursite.com" rel="noopener noreferrer">Klay-Clam</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>ES6ç¬”è®°ğŸ“’</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2019-07-13</span><span class="meta-item"><i class="fa fa-folder"></i><span>&nbsp;</span><a href="/categories/JavaScript/" title="JavaScript" class="a-tag">JavaScript</a><span>&nbsp;</span></span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a href="/tags/ES6/" title="ES6" class="a-tag">ES6</a><span>&nbsp;</span></span></p><p class="post-abstract"><ol>
<li><p>å¯¹è±¡çš„åŸå‹<code>prototype</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> A = &#123;</span><br><span class="line">  n: <span class="number">4399</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> B = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.n = <span class="number">9999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> C = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">8888</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.prototype = A;</span><br><span class="line">C.prototype = A;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B();</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> C();</span><br><span class="line"></span><br><span class="line">A.n++;</span><br><span class="line"><span class="built_in">console</span>.log(b.n);</span><br><span class="line"><span class="built_in">console</span>.log(c.n);</span><br></pre></td></tr></table></figure>
<p>å¯¹è±¡åœ¨å¯»æ‰¾å±æ€§/æ–¹æ³•æ—¶åœ¨å½“å‰å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œä¸å­˜åœ¨çš„æ—¶å€™æ‰å»åŸå‹ä¸­å¯»æ‰¾ã€‚å¦‚æœåœ¨å¯¹è±¡ä¸­å·²ç»å­˜åœ¨ï¼Œå°±ä¸ä¼šå»åŸå‹ä¸­å¯»æ‰¾ã€‚</p>
</li>
<li><p><code>let</code>,<code>var</code>çš„åŒºåˆ«</p>
<p><strong>let</strong>:ç”¨æ¥å£°æ˜å±€éƒ¨å˜é‡ã€‚ç”¨æ³•ä¸varç±»ä¼¼ï¼Œä½†æ˜¯å£°æ˜çš„å˜é‡å€¼åœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œè€Œä¸”æœ‰æš‚æ—¶æ€§æ­»åŒºçš„çº¦æŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* var å˜é‡æå‡çš„é—®é¢˜ */</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">99</span>;</span><br><span class="line">f();</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// [3] 99 æ‰“å°å…¨å±€å˜é‡a</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// [1] undefined å˜é‡æå‡ä¸”æœªèµ‹å€¼</span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// [2] 10 æ‰“å°èµ‹å€¼ä¹‹åçš„açš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>let</code>æ²¡æœ‰å˜é‡æå‡çš„é—®é¢˜ï¼Œå› ä¸ºå˜é‡åœ¨letå£°æ˜ä¹‹å‰ä½¿ç”¨ä¼šæŠ¥é”™ï¼Œåªèƒ½åœ¨å£°æ˜ä¹‹åå†ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯<strong>æš‚æ—¶æ€§æ­»åŒº</strong></p>
<p><code>let</code>ä¸èƒ½åœ¨åŒä¸€ä½œç”¨åŸŸé‡å¤å£°æ˜åŒä¸€å˜é‡</p>
</li>
<li><p>ç®­å¤´å‡½æ•° <code>==&gt;</code></p>
<p><strong>ç®­å¤´å‡½æ•°è¡¨è¾¾å¼</strong>çš„è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œ<code>arguments</code>ï¼Œ<code>super</code>æˆ– <code>new.target</code>ã€‚è¿™äº›å‡½æ•°è¡¨è¾¾å¼æ›´é€‚ç”¨äºé‚£äº›æœ¬æ¥éœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä»¬ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p>
<p>å¼•å…¥ç®­å¤´å‡½æ•°æœ‰ä¸¤ä¸ªæ–¹é¢çš„ä½œç”¨ï¼šæ›´ç®€çŸ­çš„å‡½æ•°å¹¶ä¸ç»‘å®š<code>this</code></p>
<ul>
<li>æ›´ç®€çŸ­çš„å‡½æ•°</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = [</span><br><span class="line">  <span class="string">'Hydrogen'</span>,</span><br><span class="line">  <span class="string">'Helium'</span>,</span><br><span class="line">  <span class="string">'Lithium'</span>,</span><br><span class="line">  <span class="string">'Beryllium'</span></span><br><span class="line">];</span><br><span class="line">elements.map(<span class="function"><span class="keyword">function</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> element.length;</span><br><span class="line">&#125;); <span class="comment">// è¿”å›æ•°ç»„ [8,6,7,9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å†™ä¸ºç®­å¤´å‡½æ•°</span></span><br><span class="line">elements.map(<span class="function">(<span class="params">element</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> element.length;</span><br><span class="line">&#125;); <span class="comment">// [8,6,7,9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç®­å¤´å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥çœç•¥å‚æ•°çš„åœ†æ‹¬å·</span></span><br><span class="line">elements.map(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> element.length;</span><br><span class="line">&#125;); <span class="comment">// [8,6,7,9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç®­å¤´å‡½æ•°åªæœ‰ä¸€ä¸ª return å‡½æ•°ä½“è¯­å¥æ—¶ï¼Œå¯ä»¥çœç•¥ return å…³é”®å­—å’Œæ–¹æ³•ä½“çš„èŠ±æ‹¬å·</span></span><br><span class="line">elements.map(<span class="function"><span class="params">element</span> =&gt;</span> element.length);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ `length` å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å‚æ•°è§£æ„</span></span><br><span class="line"><span class="comment">// éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸² `"length"` æ˜¯æˆ‘ä»¬æƒ³è¦è·å¾—çš„å±æ€§çš„åç§°ï¼Œè€Œ `lengthFooBArX` åˆ™åªæ˜¯ä¸ªå˜é‡åï¼Œ</span></span><br><span class="line"><span class="comment">// å¯ä»¥æ›¿æ¢æˆä»»æ„åˆæ³•çš„å˜é‡å</span></span><br><span class="line">elements.map(<span class="function">(<span class="params">&#123; <span class="string">"length"</span>: lengthFooBArX &#125;</span>) =&gt;</span> lengthFooBArX); <span class="comment">// [8, 6, 7, 9]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸ç»‘å®š<code>this</code></li>
</ul>
<p>åœ¨ç®­å¤´å‡½æ•°å‡ºç°åœ¨ä»¥å‰ï¼Œæ¯ä¸ªæ–°å®šä¹‰çš„å‡½æ•°éƒ½æœ‰ä»–è‡ªå·±çš„<code>this</code>(åœ¨æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ—¶ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼çš„å‡½æ•°è°ƒç”¨ä¸­å¨undefinedï¼Œå¦‚æœè¯¥å‡½æ•°è¢«ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼Œåˆ™ä¸ºåŸºç¡€å¯¹è±¡ç­‰)ã€‚thisè¢«è¯æ˜æ˜¯ä»¤äººåŒçƒ¦çš„é¢å‘å¯¹è±¡é£æ ¼çš„ç¼–ç¨‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Person() æ„é€ å‡½æ•°å®šä¹‰ this ä½œä¸ºå®ƒè‡ªå·±çš„å®ä¾‹</span></span><br><span class="line">  <span class="keyword">this</span>.age = <span class="number">0</span>;</span><br><span class="line">  setInterval(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨éä¸¥æ ¼æ¨¡å¼, growUp()å‡½æ•°å®šä¹‰ `this`ä½œä¸ºå…¨å±€å¯¹è±¡, </span></span><br><span class="line">    <span class="comment">// ä¸åœ¨ Person()æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„ `this`å¹¶ä¸ç›¸åŒ.</span></span><br><span class="line">    <span class="keyword">this</span>.age++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="comment">// growUpæ–¹æ³•å†…éƒ¨çš„thisä¸æŒ‡å‘Personå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³ä¸Šé¢çš„é—®é¢˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.age = <span class="number">0</span>;</span><br><span class="line">  setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.age++;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person()</span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨åšæ„é€ å™¨ï¼Œå’Œnewä¸€èµ·ä½¿ç”¨ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Foo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo(); <span class="comment">// TypeError: Foo is not a constructor</span></span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype); <span class="comment">// undifined ç®­å¤´å‡½æ•°æ²¡æœ‰undefinedå±æ€§</span></span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡å­—é¢é‡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°é€’å½’ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fact = <span class="function"><span class="params">x</span> =&gt;</span> ( x == <span class="number">0</span> ? <span class="number">1</span> : x*fact(x<span class="number">-1</span>));</span><br><span class="line">fact(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Set</strong></p>
<p>ES6æä¾›äº†æ–°çš„æ•°æ®ç»“æ„Setã€‚å®ƒç±»ä¼¼æ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ï¼Œå¯ä»¥æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿­ä»£å…ƒç´ ã€‚</p>
<blockquote>
<p><code>NaN</code>å’Œ<code>undefined</code>éƒ½å¯ä»¥è¢«å­˜å‚¨åœ¨Set ä¸­ï¼Œ <code>NaN</code>ä¹‹é—´è¢«è§†ä¸ºç›¸åŒçš„å€¼ï¼ˆå°½ç®¡ NaN !== NaNï¼‰ã€‚å¦å¤–åœ¨Setä¸­ä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªç©ºå¯¹è±¡</p>
</blockquote>
<p>Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"></span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>].forEach(<span class="function"><span class="params">x</span> =&gt;</span> &#123;</span><br><span class="line">  s.add(x)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2 3 4 5 6 7</span></span><br></pre></td></tr></table></figure>
<p><code>add()</code>æ–¹æ³•å‘Setç»“æ„åŠ å…¥æˆå‘˜ã€‚</p>
<p><strong>Set</strong>å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæ´»ç€å…·æœ‰iterableæ¥å£çš„å…¶ä»–æ•°æ®ç»“æ„ï¼‰æˆ–ä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜</span></span><br><span class="line">[...new <span class="built_in">Set</span>(array)]</span><br><span class="line"><span class="comment">// å»é™¤å­—ç¬¦ä¸²ä¸­çš„é‡å¤å­—ç¬¦</span></span><br><span class="line">[...new <span class="built_in">Set</span>(<span class="string">'abbbbasssas'</span>)].join(<span class="string">''</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</strong></p>
<ul>
<li><p><code>Set.prototype.constructor</code>:æ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°</p>
</li>
<li><p><code>Set.prototype.size</code>:è¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°</p>
</li>
<li><code>Set.prototype.add(value)</code>:æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«</li>
<li><code>Set.prototype.delete(value)</code>:åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›booleanå€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸ</li>
<li><code>Set.prototype.has(value)</code>:è¿”å›ä¸€ä¸ªbooleanå€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetæˆå‘˜</li>
<li><code>Set.prototype.clear()</code>:æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="keyword">const</span> array = <span class="built_in">Array</span>.from(items);</span><br><span class="line"><span class="comment">// æ•°ç»„å»é‡çš„å¦ä¸€ç§æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dedupe</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dedupe([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<p><strong>Setçš„éå†æ“ä½œ</strong></p>
<ul>
<li><code>Set.prototype.keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨</li>
<li><code>Set.prototype.values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>
<li><code>Set.prototype.entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>
<li><code>Set.prototype.forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>
</ul>
<blockquote>
<p><code>Set</code>çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚è¿™ä¸ªç‰¹æ€§æœ‰æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨ Set ä¿å­˜ä¸€ä¸ªå›è°ƒå‡½æ•°åˆ—è¡¨ï¼Œè°ƒç”¨æ—¶å°±èƒ½ä¿è¯æŒ‰ç…§æ·»åŠ é¡ºåºè°ƒç”¨</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// keys</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.keys()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// values</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.values())&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// entries()</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ["red", "red"]</span></span><br><span class="line"><span class="comment">// ["green", "green"]</span></span><br><span class="line"><span class="comment">// ["blue", "blue"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨forEachè¿›è¡Œéå†</span></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>]);</span><br><span class="line">set.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> <span class="built_in">console</span>.log(key + <span class="string">' : '</span> + value))</span><br><span class="line"><span class="comment">// 1 : 1</span></span><br><span class="line"><span class="comment">// 4 : 4</span></span><br><span class="line"><span class="comment">// 9 : 9</span></span><br></pre></td></tr></table></figure>
<p><strong>Setéå†çš„åº”ç”¨ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å»é‡</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> unique = [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…åˆæ•°ç»„æ–¹æ³•mapã€filter</span></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].map(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>));</span><br><span class="line"><span class="comment">// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].filter(<span class="function"><span class="params">x</span> =&gt;</span> (x % <span class="number">2</span>) == <span class="number">0</span>));</span><br><span class="line"><span class="comment">// è¿”å›Setç»“æ„ï¼š&#123;2, 4&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Promise</p>
<p>æ˜¯ä¸€éƒ¨å˜æˆçš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ›´åŠ åˆç†å’Œå¼ºå¤§ã€‚Promiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥å›å»ä¸€æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promiseæä¾›ç»Ÿä¸€çš„APIï¼Œå„ç§ä¸€æ­¥æ“ä½œéƒ½å¯ä»¥ä½¿ç”¨ç”¨æ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li><code>Promise</code>æ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œ<code>promise.then</code>æ˜¯å¼‚æ­¥æ‰§è¡Œçš„</li>
<li>æ„é€ å‡½æ•°ä¸­çš„<code>resolve</code>æˆ–<code>reject</code> åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæœ‰æ•ˆï¼Œå¤šæ¬¡è°ƒç”¨æ²¡æœ‰ä»»ä½•ä½œç”¨</li>
<li><code>promise</code> çš„<code>.then</code> æˆ–è€…<code>.catch</code> å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä½†è¿™é‡Œ<code>Promise</code>æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚æˆ–è€…è¯´ <code>promise</code> å†…éƒ¨çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨<code>.then</code>æˆ–è€…<code>.catch</code> éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼</li>
</ul>
</li>
</ol>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=http://yoursite.com/2019/07/13/es6ç¬”è®°/%20æ‹–æ³¥è„‘æ¹¿çš„åšå®¢%20ES6ç¬”è®°ğŸ“’" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2019/09/10/å‰ç«¯å¸¸ç”¨çš„ç®€å•ç®—æ³•/" title="å‰ç«¯é¢è¯•å¸¸ç”¨çš„ç®€å•æ’åºç®—æ³•"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: å‰ç«¯é¢è¯•å¸¸ç”¨çš„ç®€å•æ’åºç®—æ³•</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2019/06/13/letå’Œconst/" title="ES6-let/const">Next post: ES6-let/const&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="http://yoursite.com" rel="noopener noreferrer">Klay-Clam</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>